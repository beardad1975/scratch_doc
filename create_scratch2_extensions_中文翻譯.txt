----------------------
建立Scratch2.0擴充功能
----------------------


原始作者：John Maloney ，MIT Media Laboratory ，2013年9月
原文網址：http://wiki.scratch.mit.edu/w/images/ExtensionsDoc.HTTP-9-11.pdf
譯者：張文宏 ，2016年4月
翻譯原則：不採精確翻譯，以容易理解及實用為原則


【介紹】

Scratch2.0可以透過擴充功能來控制外部的裝置(如機器人套件，樂器等)，或是從外部感測器取得感測值(如感應板)。擴充功能幫Scrath增加了新的「命令」積木與「感應」積木，這些新增的積木可與裝置做互動。當啟用擴充功能時，新的積木會出現在「更多積木」區裡面。

(譯註：感應積木原文為reporter block，為使文章易理解，而採此翻譯 )


由於瀏覽器的安全限制，Scratch2.0無法直接與硬體裝置溝通(譯註：Scratch一開始是Web版，且以Flash寫成)，所以擴充功能要透過另一個獨立執行的擴充程式。Scratch透過HTTP與擴充程式連結，然後擴充程式再與硬體裝置溝通。未來，一些擴充功能會以瀏覽器外掛的型式來做，但不在此詳述。(譯註：Scratch2離線版不使用瀏覽器外掛)

(譯註：擴充程式原文為helper app，為使文章易理解，而採此翻譯 )


這篇文章的讀者是針對Scratch2.0擴充功能開發者。內容提到了積木定義檔格式(譯註：即.s2e檔)，Scratch與擴充程式的溝通協定及開發的步驟。

(譯註：積木定義檔原文為Extension description file，為使文章易理解，而採此翻譯 )


【積木定義檔】

積木定義檔是一個採用JSON格式的文字檔。(譯註：JSON是來自Javascript，是Web常見的資料交換格式)，依Scratch2.0的習慣，採用.s2e的結尾副檔名。

在積木定義檔中的JSON物件包括了擴充的名稱，用來與擴充程式通訊的TCP/IP的port號碼，和一個Scratch積木內容的串列(譯註：JSON的一種資料型式)

以下方為例：

{ 
    "extensionName": "擴充示範",
    "extensionPort": 12345,
    "blockSpecs": [
        [" ", "嗶一聲", "playBeep"],
        [" ", "設定音量為 %n", "setVolume", 5],
        ["r", "目前音量值", "volume"],
    ]
}



